(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8b1ca2a"],{"2f08":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper-copyright"},[r("div",{staticClass:"row1"},[r("span",[e._v("Element")]),r("a",{attrs:{href:"https://github.com/PanJiaChen/vue-element-admin",target:"blank"}},[r("img",{attrs:{src:"https://img0.baidu.com/it/u=2078769130,3528906519&fm=26&fmt=auto&gp=0.jpg",alt:""}})]),r("span",[e._v("Element-admin")])]),r("div",{staticClass:"row2"},[r("span",[e._v("Copyright© 2017-2020 不凡学院 豫ICP备 17015347号")])])])}],o={name:"Copyright"},i=o,l=(r("97db"),r("2877")),s=Object(l["a"])(i,a,n,!1,null,"5e5f4c36",null);t["a"]=s.exports},"4193c":function(e,t,r){"use strict";r("5ea6")},"4c01":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return c}));r("99af");var a=r("0c6d");function n(e){return Object(a["a"])({url:"/lejuAdmin/brand/addBrand",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/lejuAdmin/brand/delBrand/".concat(e),method:"delete"})}function i(){return Object(a["a"])({url:"/lejuAdmin/brand/findAllBrand"})}function l(e,t){return Object(a["a"])({url:"/lejuAdmin/brand/findBrandByPage/".concat(e,"/").concat(t)})}function s(e){return Object(a["a"])({url:"/lejuAdmin/brand/switchShowStatus",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/lejuAdmin/brand/updateBrand",method:"post",data:e})}},"5ea6":function(e,t,r){},"8a97":function(e,t,r){},"90dc":function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return s})),r.d(t,"f",(function(){return c})),r.d(t,"g",(function(){return d})),r.d(t,"h",(function(){return u})),r.d(t,"i",(function(){return m}));r("99af");var a=r("0c6d");function n(e){return Object(a["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/lejuAdmin/product/del/".concat(e),method:"delete"})}function i(e){return Object(a["a"])({url:"/lejuAdmin/product/productSkusDetail/".concat(e)})}function l(e,t,r){return Object(a["a"])({url:"/lejuAdmin/product/productsByPage/".concat(e,"/").concat(t),method:"post",data:r})}function s(e){return Object(a["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:e})}function d(e){return Object(a["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:e})}function m(e){return Object(a["a"])({url:"/lejuAdmin/product/updateProductAndSkus",method:"post",data:e})}},"97db":function(e,t,r){"use strict";r("eb78")},9841:function(e,t,r){"use strict";r("8a97")},b000:function(e,t,r){},d52c:function(e,t,r){"use strict";r("b000")},ead8:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("add-r",{ref:"addR"}),r("sub-add",{ref:"subAdd"}),r("el-card",{staticStyle:{width:"95%",margin:"20px auto"}},[r("el-button",{attrs:{type:"primary",size:"default"},on:{click:e.add}},[e._v("新增")]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.list}},[r("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50",fixed:"left"}}),r("el-table-column",{attrs:{align:"center",label:"商品图片",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("img",{attrs:{src:t.row.pic,width:"100",height:"110"},on:{error:function(r){return e.handleError(t.row)}}})]}}])}),r("el-table-column",{attrs:{align:"center",label:"活动时间",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:"success"}},[e._v(" 开始时间:"+e._s(t.row.promotionStartTime)+" ")]),r("el-tag",{attrs:{type:"warning"}},[e._v(" 结束时间:"+e._s(t.row.promotionEndTime)+" ")])]}}])}),r("el-table-column",{attrs:{align:"center",label:"是否过期",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:"info"}},[e._v(" "+e._s(t.row.stale)+" ")])]}}])}),r("el-table-column",{attrs:{resizable:"",align:"center",prop:"name",label:"商品名称",width:"160"}}),r("el-table-column",{attrs:{resizable:"",align:"center",prop:"brandName",label:"品牌名称",width:"160"}}),r("el-table-column",{attrs:{resizable:"",align:"center",prop:"price",label:"商品价格",width:"160"}}),r("el-table-column",{attrs:{resizable:"",align:"center",prop:"productCategoryName",label:"商品类别",width:"160"}}),r("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"180"}}),r("el-table-column",{attrs:{label:"操作",width:"160px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")]),r("el-popconfirm",{attrs:{title:"亲,您确定要删除吗？"},on:{onConfirm:function(r){return e.del(t.row)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1)],1),r("copyright")],1)},n=[],o=r("1da1"),i=(r("159b"),r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dialog-detail"},[r("el-dialog",{attrs:{title:"编辑限时活动",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"addHForm",attrs:{model:e.addHForm,rules:e.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"品牌名称","label-width":e.formLabelWidth,prop:"brandName"}},[r("el-input",{attrs:{disabled:"",placeholder:"请输入品牌名称",autocomplete:"off"},model:{value:e.addHForm.brandName,callback:function(t){e.$set(e.addHForm,"brandName",t)},expression:"addHForm.brandName"}})],1)],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth,prop:"name"}},[r("el-input",{attrs:{disabled:"",placeholder:"请输入商品名称",autocomplete:"off"},model:{value:e.addHForm.name,callback:function(t){e.$set(e.addHForm,"name",t)},expression:"addHForm.name"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"排序","label-width":e.formLabelWidth,prop:"sort"}},[r("el-input",{attrs:{placeholder:"请输入排序大小(数字越大越靠前)",autocomplete:"off"},model:{value:e.addHForm.sort,callback:function(t){e.$set(e.addHForm,"sort",e._n(t))},expression:"addHForm.sort"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"促销价格","label-width":e.formLabelWidth,prop:"promotionPrice"}},[r("el-input",{attrs:{placeholder:"请输入促销价格",autocomplete:"off"},model:{value:e.addHForm.promotionPrice,callback:function(t){e.$set(e.addHForm,"promotionPrice",e._n(t))},expression:"addHForm.promotionPrice"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"活动限购数量","label-width":e.formLabelWidth,prop:"promotionPerLimit"}},[r("el-input",{attrs:{placeholder:"请输入活动限购数量",autocomplete:"off"},model:{value:e.addHForm.promotionPerLimit,callback:function(t){e.$set(e.addHForm,"promotionPerLimit",e._n(t))},expression:"addHForm.promotionPerLimit"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"开始时间","label-width":e.formLabelWidth}},[r("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.addHForm.promotionStartTime,callback:function(t){e.$set(e.addHForm,"promotionStartTime",t)},expression:"addHForm.promotionStartTime"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"结束时间","label-width":e.formLabelWidth}},[r("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"选择日期时间"},model:{value:e.addHForm.promotionEndTime,callback:function(t){e.$set(e.addHForm,"promotionEndTime",t)},expression:"addHForm.promotionEndTime"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"商品图片",size:"normal"}},[r("img",{staticStyle:{width:"165px",height:"162px"},attrs:{src:e.addHForm.pic,alt:""}})])],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.doSave}},[e._v("确 定")])],1)],1)],1)}),l=[],s=r("0c6d");function c(e){return Object(s["a"])({url:"/lejuAdmin/homeRecommend/addRecommend",method:"post",data:e})}function d(e){return Object(s["a"])({url:"/lejuAdmin/homeRecommend/delRecommend/".concat(e),method:"delete"})}function u(){return Object(s["a"])({url:"/lejuAdmin/homeRecommend/findAllRecommends"})}function m(e){return Object(s["a"])({url:"/lejuAdmin/homeRecommend/updateRecommend",method:"post",data:e})}var p={components:{},computed:{},created:function(){},mounted:function(){},data:function(){return{addHForm:{},product:{},dialogVisible:!1,formLabelWidth:"140px",rules:{sort:[{type:"number",message:"类型必须是数字类型",trigger:"blur"}],promotionPrice:[{type:"number",message:"类型必须是数字类型",trigger:"blur"}],promotionPerLimit:[{type:"number",message:"类型必须是数字类型",trigger:"blur"}]}}},methods:{handleClose:function(){this.dialogVisible=!1},doSave:function(){var e,t,r=this;this.addHForm.type=0,this.product.promotionStartTime?(this.addHForm.productId=this.addHForm.productId,e=m,t="修改限时品牌商品成功"):(this.addHForm.productId=this.addHForm.id,e=c,t="添加限时品牌商品成功"),this.$refs.addHForm.validate(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(n){var o,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!n){a.next=12;break}return a.next=3,e(r.addHForm);case 3:if(o=a.sent,i=o.success,l=o.message,i){a.next=8;break}return a.abrupt("return",r.$message.error(l));case 8:r.$message.success(t),r.$router.go(0),a.next=14;break;case 12:return r.$message.warning("请检查是否输入有误"),a.abrupt("return",!1);case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},openDialog:function(e){var t=this;this.product=e,this.$nextTick((function(){t.addHForm=JSON.parse(JSON.stringify(e))})),this.dialogVisible=!0}}},f=p,b=(r("d52c"),r("2877")),h=Object(b["a"])(f,i,l,!1,null,"b8890a2e",null),g=h.exports,v=r("2f08"),w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("sub-add",{ref:"subAdd"}),r("div",{staticClass:"dialog-detail"},[r("el-dialog",{attrs:{title:"热销详情",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-collapse-item",{attrs:{title:"功能使用介绍",name:"1"}},[r("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[r("p",{staticStyle:{padding:"20px"}},[e._v(" 点击选择您需要编辑的热销商品，之后会弹出一个编辑框，您可以进行编辑，点击确定之后添加热销商品 ")])])],1),r("el-collapse-item",{attrs:{title:"条件查询",name:"2"}},[r("el-card",{attrs:{shadow:"hover","body-style":{paddingTop:"20px",paddingBottom:"0"}}},[r("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"header"},slot:"header"}),r("el-form",{ref:"ruleForm",attrs:{model:e.searchForm,"label-width":"80px",inline:!1,size:"normal"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name","string"===typeof t?t.trim():t)},expression:"searchForm.name"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品货号",prop:"productSn"}},[r("el-input",{attrs:{placeholder:"请输入商品货号"},model:{value:e.searchForm.productSn,callback:function(t){e.$set(e.searchForm,"productSn","string"===typeof t?t.trim():t)},expression:"searchForm.productSn"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"品牌",prop:"brandId"}},[r("el-select",{attrs:{name:"brandId",clearable:"",placeholder:"品牌"},model:{value:e.searchForm.brandId,callback:function(t){e.$set(e.searchForm,"brandId",t)},expression:"searchForm.brandId"}},e._l(e.brandList,(function(e){return r("el-option",{key:e.brandId,attrs:{label:e.brandName,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"上架状态",prop:"publishStatus"}},[r("el-select",{attrs:{name:"publishStatus",clearable:"",placeholder:"上架状态"},model:{value:e.searchForm.publishStatus,callback:function(t){e.$set(e.searchForm,"publishStatus",t)},expression:"searchForm.publishStatus"}},e._l(e.publishStatusList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.lable,value:e.value}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"审核状态",prop:"verifyStatus"}},[r("el-select",{attrs:{name:"verifyStatus",clearable:"",placeholder:"审核状态"},model:{value:e.searchForm.verifyStatus,callback:function(t){e.$set(e.searchForm,"verifyStatus",t)},expression:"searchForm.verifyStatus"}},e._l(e.verifyStatusList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.lable,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:8,offset:10}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSearch("ruleForm")}}},[e._v("查询")]),r("el-button",{on:{click:function(t){return e.onCancle("ruleForm")}}},[e._v("取消")])],1)],1)],1)],1)],1)],1)],1),r("el-card",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:"",data:e.list}},[r("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50",fixed:"left"}}),r("el-table-column",{attrs:{align:"center",label:"选择",width:"100",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-radio-group",{on:{change:function(r){return e.radioChange(t.row)}},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}},[r("el-radio",{attrs:{border:"",label:t.row.id}},[e._v("选择")])],1)]}}])}),r("el-table-column",{attrs:{align:"center",label:"商品图片",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("img",{attrs:{src:t.row.pic,width:"100",height:"110"},on:{error:function(r){return e.handleError(t.row)}}})]}}])}),r("el-table-column",{attrs:{align:"center",prop:"name",label:"商品名称","show-overflow-tooltip":"",width:"160"}}),r("el-table-column",{attrs:{align:"center",prop:"brandName",label:"品牌名称",width:"160"}}),r("el-table-column",{attrs:{align:"center",prop:"description","show-overflow-tooltip":"",label:"商品描述",width:"160"}}),r("el-table-column",{attrs:{align:"center",label:"商品价格",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:"info",effect:"dark"}},[e._v(" 原价: "+e._s(t.row.originalPrice)+" ")]),r("el-tag",{attrs:{type:"danger",effect:"dark"}},[e._v(" 现价: "+e._s(t.row.price)+" ")])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"productCategoryName",label:"商品类别",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"createTime",label:"添加时间",width:"100"}}),r("el-table-column",{attrs:{align:"center",label:"浏览量/点赞量/收藏量",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:"info",hit:"",effect:"dark"}},[e._v(" 浏览数量:"+e._s(t.row.viewCount)+" ")]),r("el-tag",{attrs:{type:"danger",effect:"light"}},[e._v(" 点赞数量:"+e._s(t.row.zanCount)+" ")]),r("el-tag",{attrs:{type:"success",effect:"plain"}},[e._v(" 收藏数量:"+e._s(t.row.collectCount)+" ")])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"weight",label:"重量",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",width:"100"}}),r("el-table-column",{attrs:{label:"操作",width:"180",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.edit(t.row)}}},[e._v("编辑")]),r("el-popconfirm",{attrs:{title:"亲,您确定要删除吗？"},on:{onConfirm:function(r){return e.del(t.row)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),r("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":e.pageInfo.start,"page-sizes":[5,10,15,20],"page-size":e.pageInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.SizeChange,"current-change":e.CurrentChange}})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"}},[e._v("确 定")])],1)],1)],1)],1)},y=[],k=(r("d81d"),r("b0c0"),r("90dc")),x=r("4c01"),j={name:"addR",components:{subAdd:g},data:function(){return{isChecked:!0,dialogVisible:!1,activeName:1,loading:!1,list:[],pageInfo:{start:1,limit:10},verifyStatusList:[{id:1,lable:"未审核",value:"0"},{id:1,lable:"已审核",value:"1"}],publishStatusList:[{id:1,lable:"未上架",value:"0"},{id:1,lable:"已上架",value:"1"}],brandList:[],searchForm:{name:"",brandId:"",productSn:"",publishStatus:"",verifyStatus:""},total:0}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.productsByPage(),t.next=3,Object(x["c"])();case 3:if(r=t.sent,a=r.success,n=r.data,o=r.message,a){t.next=9;break}return t.abrupt("return",e.$message.error(o));case 9:e.brandList=n.items.map((function(e){return{brandId:e.id,brandName:e.name,value:e.id}}));case 10:case"end":return t.stop()}}),t)})))()},methods:{radioChange:function(e){this.$refs.subAdd.openDialog(e)},openDialog:function(){var e=this;this.$nextTick((function(){e.list.forEach((function(e){e.isChecked=!1}))})),this.dialogVisible=!0},handleClose:function(){this.dialogVisible=!1,console.log("关闭...")},addProduct:function(){this.$router.push({name:"productsListAdd"})},edit:function(e){this.$router.push({name:"productsListEdit",params:{id:e.id}})},del:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(k["b"])(e.id);case 2:if(a=r.sent,n=a.success,o=a.message,n){r.next=7;break}return r.abrupt("return",t.$message.error(o));case 7:t.$message.success("删除成功"),t.productsByPage();case 9:case"end":return r.stop()}}),r)})))()},onCancle:function(e){this.$refs[e].resetFields(),this.productsByPage()},onSearch:function(){var e=!0;for(var t in this.searchForm)this.searchForm[t]&&(e=!1);if(e)return this.$message.warning("请至少输入一项进行查询");this.productsByPage(),this.pageInfo.start=1,this.pageInfo.limit=10},handleError:function(e){e.icon="https://img0.baidu.com/it/u=59285992,513800291&fm=26&fmt=auto&gp=0.jpg"},productsByPage:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(k["d"])(e.pageInfo.start,e.pageInfo.limit,e.searchForm);case 3:if(r=t.sent,r.success){t.next=6;break}return t.abrupt("return",e.$message.error(r.message));case 6:e.loading=!1,e.total=r.data.total,e.list=r.data.rows,r.data.rows.forEach((function(e){e.icon||(e.icon="https://img0.baidu.com/it/u=59285992,513800291&fm=26&fmt=auto&gp=0.jpg")}));case 10:case"end":return t.stop()}}),t)})))()},SizeChange:function(e){this.pageInfo.limit=e,this.productsByPage()},CurrentChange:function(e){this.pageInfo.start=e,this.productsByPage()}}},S=j,_=(r("9841"),Object(b["a"])(S,w,y,!1,null,"13ee3005",null)),F=_.exports,H={name:"SaleList",components:{copyright:v["a"],addR:F,subAdd:g},computed:{},data:function(){return{loading:!1,list:[],pageInfo:{start:1,limit:10},total:0}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.findAllRecommends();case 1:case"end":return t.stop()}}),t)})))()},methods:{judgeTime:function(e){var t=(new Date).getTime()-new Date(e).getTime();return t>0?"过期":"否"},add:function(){this.$refs.addR.openDialog()},edit:function(e){this.$refs.subAdd.openDialog(e)},del:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,d(e.recommendId);case 2:if(a=r.sent,n=a.success,o=a.message,n){r.next=7;break}return r.abrupt("return",t.$message.error(o));case 7:t.$message.success("删除成功"),t.findAllRecommends();case 9:case"end":return r.stop()}}),r)})))()},handleError:function(e){e.icon="https://img0.baidu.com/it/u=59285992,513800291&fm=26&fmt=auto&gp=0.jpg"},findAllRecommends:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,u();case 3:if(r=t.sent,r.success){t.next=6;break}return t.abrupt("return",e.$message.error(r.message));case 6:e.loading=!1,e.list=r.data.items,r.data.items.forEach((function(t){t.stale=e.judgeTime(t.promotionEndTime),t.icon||(t.icon="https://img0.baidu.com/it/u=59285992,513800291&fm=26&fmt=auto&gp=0.jpg")}));case 9:case"end":return t.stop()}}),t)})))()}}},$=H,C=(r("4193c"),Object(b["a"])($,a,n,!1,null,"79a738d6",null));t["default"]=C.exports},eb78:function(e,t,r){}}]);