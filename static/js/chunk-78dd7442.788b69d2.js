(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78dd7442"],{"1f91":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.isFlex?"wrapper-upload":""},[r("el-upload",{ref:"uploadCoverImg",staticClass:"upload-demo",attrs:{"list-type":t.listType,headers:{token:t.token},"on-success":t.handleSuccess,"before-upload":t.beforeUpload,multiple:t.isMultiple,limit:t.limitNumber,"show-file-list":!1,action:t.baseUrl+t.uploadUrl,"on-change":t.changeUpload}},["text"==t.listType?r("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]):t._e(),"picture-card"==t.listType||"picture"==t.listType?r("el-button",{staticStyle:{border:"none"},attrs:{icon:"el-icon-plus",size:"small",plain:""}}):t._e(),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传图片格式文件，且不超过1.5M "),t.isMultiple?r("span",[t._v("文件不能超过"+t._s(t.limitNumber)+"个")]):t._e()])],1),t.isShowImg&&!t.isMultiple?r("div",{staticClass:"icon-wrapper"},[t.imgSrcStr||t.imgSrc?r("img",{staticClass:"cover-img",attrs:{src:t.imgSrc||t.imgSrcStr,alt:""}}):t._e(),t.imgSrc?r("i",{staticClass:"el-icon-circle-close",attrs:{slot:"reference"},on:{click:t.removeCoverImg},slot:"reference"}):t._e()]):t._e(),t.isShowImg&&t.isMultiple?r("div",{staticClass:"icon-wrapper",class:t.isFlex?"wrapper-img":""},t._l(t.picList.length>0?t.picList:t.imgSrcList,(function(e,a){return r("div",{key:a,staticClass:"multImg"},[r("img",{staticClass:"cover-img",attrs:{src:e,alt:""}}),t.picList.length>0?r("i",{staticClass:"el-icon-circle-close",on:{click:function(e){return t.removeCoverImg(a)}}}):t._e()])})),0):t._e()],1)},n=[],i=(r("a9e3"),r("a434"),r("5f87")),o={name:"UploadImg",props:{isShowImg:{type:Boolean,default:!1},uploadUrl:{type:String,default:"/lejuAdmin/material/uploadFileOss"},listType:{type:String,default:"text"},isWho:{type:String,default:""},isFlex:{type:Boolean,default:!0},isMultiple:{type:Boolean,default:!1},limitNumber:{type:Number,default:5},imgSrcStr:{type:String,default:""},imgSrcList:{type:Array,default:function(){return[]}}},mounted:function(){},data:function(){return{baseUrl:"https://leju.bufan.cloud",picList:[],imgSrc:""}},computed:{token:function(){return Object(i["b"])()}},methods:{changeUpload:function(t,e){},handleSuccess:function(t,e,r){var a=t.success,n=t.data,i=t.message;if(a){var o=n.fileUrl;this.picList.push(o),this.$message.success("上传成功!");var s={url:o,isWho:this.isWho};this.$emit("reciveImgSrc",s),this.imgSrc=o,this.isMultiple&&this.$emit("reciveImgSrcList",this.picList)}else this.$message.error(i)},beforeUpload:function(t){var e=/image\/(jpeg|png|jpg)/g,r=e.test(t.type),a=t.size/1024/1024<1.5;return r||this.$message.error("只能上传图片格式"),a||this.$message.error("上传头像图片大小不能超过1.5MB!"),r&&a},removeCoverImg:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"删除成功!"}),e.imgSrc="",e.isMultiple&&e.picList.splice(t,1)})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))}}},s=o,l=(r("f2a8"),r("2877")),c=Object(l["a"])(s,a,n,!1,null,"0edec22a",null);e["a"]=c.exports},"2f08":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper-copyright"},[r("div",{staticClass:"row1"},[r("span",[t._v("Element")]),r("a",{attrs:{href:"https://github.com/PanJiaChen/vue-element-admin",target:"blank"}},[r("img",{attrs:{src:"https://img0.baidu.com/it/u=2078769130,3528906519&fm=26&fmt=auto&gp=0.jpg",alt:""}})]),r("span",[t._v("Element-admin")])]),r("div",{staticClass:"row2"},[r("span",[t._v("Copyright© 2017-2020 不凡学院 豫ICP备 17015347号")])])])}],i={name:"Copyright"},o=i,s=(r("97db"),r("2877")),l=Object(s["a"])(o,a,n,!1,null,"5e5f4c36",null);e["a"]=l.exports},"4c01":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"d",(function(){return s})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return c}));r("99af");var a=r("0c6d");function n(t){return Object(a["a"])({url:"/lejuAdmin/brand/addBrand",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/lejuAdmin/brand/delBrand/".concat(t),method:"delete"})}function o(){return Object(a["a"])({url:"/lejuAdmin/brand/findAllBrand"})}function s(t,e){return Object(a["a"])({url:"/lejuAdmin/brand/findBrandByPage/".concat(t,"/").concat(e)})}function l(t){return Object(a["a"])({url:"/lejuAdmin/brand/switchShowStatus",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/lejuAdmin/brand/updateBrand",method:"post",data:t})}},"60af":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("detail",{ref:"editBrand",attrs:{logo:t.editBrand.logo,bigImg:t.editBrand.bigPic,editBrand:t.editBrand},on:{refrush:t.getBrandList}}),r("el-card",{staticStyle:{width:"95%",margin:"20px auto"}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("新增")]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{fit:"",border:"",data:t.list}},[r("el-table-column",{attrs:{align:"center",type:"index",label:"序号",width:"50",fixed:"left"}}),r("el-table-column",{attrs:{align:"center",prop:"name",label:"品牌名称",width:"160"}}),r("el-table-column",{attrs:{align:"center",label:"是否展示",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#999","active-text":"展示","inactive-text":"不展示","active-value":1,"inactive-value":0},on:{change:function(r){return t.showStatusChange(r,e.row)}},model:{value:e.row.showStatus,callback:function(r){t.$set(e.row,"showStatus",r)},expression:"scope.row.showStatus"}})]}}])}),r("el-table-column",{attrs:{align:"center",label:"logo",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("img",{attrs:{src:e.row.logo,width:"100",height:"110"},on:{error:function(r){return t.handleError(e.row)}}})]}}])}),r("el-table-column",{attrs:{align:"center",label:"大图展示",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("img",{attrs:{src:e.row.bigPic,width:"180",height:"160"},on:{error:function(r){return t.handleError(e.row)}}})]}}])}),r("el-table-column",{attrs:{align:"center",prop:"brandStory","show-overflow-tooltip":"",label:"品牌故事",width:"180"}}),r("el-table-column",{attrs:{align:"center",prop:"createTime",label:"创建时间",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"sort",label:"排序",width:"100"}}),r("el-table-column",{attrs:{align:"center",prop:"productCommentCount",label:"产品评论数量",width:"120"}}),r("el-table-column",{attrs:{align:"center",label:"是否品牌制造商",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-tag",{attrs:{type:"success",effect:"plain"}},[t._v(" "+t._s(e.row.factoryStatus?"是":"不是")+" ")])]}}])}),r("el-table-column",{attrs:{align:"center",prop:"modifyTime",label:"修改日期",width:"180"}}),r("el-table-column",{attrs:{label:"操作",width:"160px",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return t.edit(e.row)}}},[t._v("编辑")]),r("el-popconfirm",{attrs:{title:"亲,您确定要删除吗？"},on:{onConfirm:function(r){return t.del(e.row)}}},[r("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),r("el-pagination",{staticClass:"pagination",attrs:{background:"","current-page":t.pageInfo.start,"page-sizes":[5,10,15,20],"page-size":t.pageInfo.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.SizeChange,"current-change":t.CurrentChange}})],1),r("copyright")],1)},n=[],i=r("1da1"),o=(r("159b"),r("96cf"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dialog-detail"},[r("el-dialog",{attrs:{title:"品牌详情",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-form",{ref:"addBrandForm",attrs:{model:t.addBrandForm,rules:t.rules}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"品牌名称","label-width":t.formLabelWidth,prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入品牌名称",autocomplete:"off"},model:{value:t.addBrandForm.name,callback:function(e){t.$set(t.addBrandForm,"name",e)},expression:"addBrandForm.name"}})],1)],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"首字母","label-width":t.formLabelWidth,prop:"firstLetter"}},[r("el-input",{attrs:{placeholder:"请输入首字母",autocomplete:"off"},model:{value:t.addBrandForm.firstLetter,callback:function(e){t.$set(t.addBrandForm,"firstLetter",e)},expression:"addBrandForm.firstLetter"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"排序","label-width":t.formLabelWidth,prop:"sort"}},[r("el-input",{attrs:{placeholder:"请输入排序大小(数字越大越靠前)",autocomplete:"off"},model:{value:t.addBrandForm.sort,callback:function(e){t.$set(t.addBrandForm,"sort",t._n(e))},expression:"addBrandForm.sort"}})],1)],1),r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"产品数量","label-width":t.formLabelWidth,prop:"productCount"}},[r("el-input",{attrs:{placeholder:"请输入产品数量",autocomplete:"off"},model:{value:t.addBrandForm.productCount,callback:function(e){t.$set(t.addBrandForm,"productCount",t._n(e))},expression:"addBrandForm.productCount"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24,offset:0}},[r("el-form-item",{attrs:{label:"品牌故事","label-width":t.formLabelWidth}},[r("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入品牌故事"},model:{value:t.addBrandForm.brandStory,callback:function(e){t.$set(t.addBrandForm,"brandStory",t._n(e))},expression:"addBrandForm.brandStory"}})],1)],1)],1),r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{span:10,offset:0}},[r("el-form-item",{staticClass:"self-row",attrs:{label:"是否展示","label-width":t.formLabelWidth}},[r("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#999","active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},model:{value:t.addBrandForm.showStatus,callback:function(e){t.$set(t.addBrandForm,"showStatus",e)},expression:"addBrandForm.showStatus"}})],1)],1),r("el-col",{attrs:{span:14,offset:0}},[r("el-form-item",{staticClass:"self-row",attrs:{label:"是否为品牌制造商","label-width":t.formLabelWidth}},[r("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#999","active-text":"是","inactive-text":"否","active-value":1,"inactive-value":0},model:{value:t.addBrandForm.factoryStatus,callback:function(e){t.$set(t.addBrandForm,"factoryStatus",e)},expression:"addBrandForm.factoryStatus"}})],1)],1)],1),r("el-row",{staticClass:"upload-row",attrs:{gutter:20}},[t.bigImg||t.addBrandForm.bigPic?r("el-col",{attrs:{span:8,offset:0}},[r("img",{style:t.bigImg||t.addBrandForm.bigPic?"width:165px;height:162px":"",attrs:{src:t.bigImg?t.bigImg:t.addBrandForm.bigPic,alt:""}})]):t._e(),r("el-col",{attrs:{span:8,offset:0}},[r("span",[t._v("上传专区大图")]),r("upload-img",{attrs:{listType:"picture-card",isWho:"bigImg"},on:{reciveImgSrc:t.handleImgSrc}})],1),t.logo||t.addBrandForm.logo?r("el-col",{attrs:{span:8,offset:0}},[r("img",{style:t.logo||t.addBrandForm.logo?"width:165px":"",attrs:{src:t.logo?t.logo:t.addBrandForm.logo,alt:""}})]):t._e(),r("el-col",{attrs:{span:8,offset:0}},[r("span",[t._v("上传logo")]),r("upload-img",{attrs:{logo:t.logo,listType:"picture-card",isWho:"logo"},on:{reciveImgSrc:t.handleImgSrc}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:t.doBrandSave}},[t._v("确 定")])],1)],1)],1)}),s=[],l=r("1f91"),c={components:{UploadImg:l["a"]},props:{editBrand:{type:Object,default:function(){return{}}},bigImg:{type:String,default:""},logo:{type:String,default:""}},computed:{},created:function(){},mounted:function(){},data:function(){return{addBrandForm:{logo:"",bigPic:""},dialogVisible:!1,formLabelWidth:"140px",rules:{name:[{required:!0,message:"品牌不能为空",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],sort:[{type:"number",message:"类型必须是数字类型",trigger:"blur"}],productCount:[{type:"number",message:"类型必须是数字类型",trigger:"blur"}],firstLetter:[{max:1,message:"长度必须为一位",trigger:"blur"}]}}},methods:{handleImgSrc:function(t){"bigImg"===t.isWho?this.addBrandForm.bigPic=t.url:this.addBrandForm.logo=t.url},handleClose:function(){this.dialogVisible=!1},doBrandSave:function(){var t=this;this.$refs.addBrandForm.validate((function(e){if(!e)return t.$message.warning("请检查是否输入有误"),!1;t.dialogVisible=!1,t.$emit("refrush",t.addBrandForm)}))},openDialog:function(){var t=this;this.$nextTick((function(){t.editBrand.id?t.addBrandForm=JSON.parse(JSON.stringify(t.editBrand)):t.addBrandForm={logo:"",bigPic:""}})),this.dialogVisible=!0}}},d=c,u=(r("f890"),r("2877")),f=Object(u["a"])(d,o,s,!1,null,"557c06de",null),m=f.exports,p=r("2f08"),g=r("4c01"),h={name:"Brands",components:{copyright:p["a"],Detail:m},data:function(){return{loading:!1,list:[],pageInfo:{start:1,limit:10},total:0,editBrand:{}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.findBrandByPage();case 1:case"end":return e.stop()}}),e)})))()},methods:{showStatusChange:function(t,e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(g["e"])({id:e.id,status:t});case 2:if(n=a.sent,i=n.success,o=n.message,i){a.next=7;break}return a.abrupt("return",r.$message.error(o));case 7:r.$message.success("状态改变成功");case 8:case"end":return a.stop()}}),a)})))()},add:function(){this.editBrand={},this.$refs.editBrand.openDialog()},getBrandList:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.id?g["f"]:g["a"],r.next=3,a(t);case 3:if(n=r.sent,i=n.success,o=n.message,i){r.next=8;break}return r.abrupt("return",e.$message.error(o));case 8:e.$message.success("保存成功"),e.findBrandByPage();case 10:case"end":return r.stop()}}),r)})))()},edit:function(t){this.editBrand=t,this.$refs.editBrand.openDialog()},del:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(g["b"])(t.id);case 2:if(a=r.sent,n=a.success,i=a.message,n){r.next=7;break}return r.abrupt("return",e.$message.error(i));case 7:e.$message.success("删除成功"),e.findBrandByPage();case 9:case"end":return r.stop()}}),r)})))()},handleError:function(t){t.icon="https://img0.baidu.com/it/u=59285992,513800291&fm=26&fmt=auto&gp=0.jpg"},findBrandByPage:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(g["d"])(t.pageInfo.start,t.pageInfo.limit);case 3:if(r=e.sent,r.success){e.next=6;break}return e.abrupt("return",t.$message.error(r.message));case 6:t.loading=!1,t.total=r.data.total,t.list=r.data.rows,r.data.rows.forEach((function(t){t.icon||(t.icon="https://img0.baidu.com/it/u=59285992,513800291&fm=26&fmt=auto&gp=0.jpg")}));case 10:case"end":return e.stop()}}),e)})))()},SizeChange:function(t){this.pageInfo.limit=t,this.findBrandByPage()},CurrentChange:function(t){this.pageInfo.start=t,this.findBrandByPage()}}},b=h,v=(r("e92e"),Object(u["a"])(b,a,n,!1,null,"2d9249b0",null));e["default"]=v.exports},"97a6":function(t,e,r){},"97db":function(t,e,r){"use strict";r("eb78")},"9a49":function(t,e,r){},a434:function(t,e,r){"use strict";var a=r("23e7"),n=r("23cb"),i=r("a691"),o=r("50c4"),s=r("7b0b"),l=r("65f0"),c=r("8418"),d=r("1dde"),u=r("ae40"),f=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,g=Math.min,h=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var r,a,d,u,f,m,v=s(this),w=o(v.length),y=n(t,w),B=arguments.length;if(0===B?r=a=0:1===B?(r=0,a=w-y):(r=B-2,a=g(p(i(e),0),w-y)),w+r-a>h)throw TypeError(b);for(d=l(v,a),u=0;u<a;u++)f=y+u,f in v&&c(d,u,v[f]);if(d.length=a,r<a){for(u=y;u<w-a;u++)f=u+a,m=u+r,f in v?v[m]=v[f]:delete v[m];for(u=w;u>w-a+r;u--)delete v[u-1]}else if(r>a)for(u=w-a;u>y;u--)f=u+a-1,m=u+r-1,f in v?v[m]=v[f]:delete v[m];for(u=0;u<r;u++)v[u+y]=arguments[u+2];return v.length=w-a+r,d}})},a9e3:function(t,e,r){"use strict";var a=r("83ab"),n=r("da84"),i=r("94ca"),o=r("6eeb"),s=r("5135"),l=r("c6b6"),c=r("7156"),d=r("c04e"),u=r("d039"),f=r("7c73"),m=r("241c").f,p=r("06cf").f,g=r("9bf2").f,h=r("58a8").trim,b="Number",v=n[b],w=v.prototype,y=l(f(w))==b,B=function(t){var e,r,a,n,i,o,s,l,c=d(t,!1);if("string"==typeof c&&c.length>2)if(c=h(c),e=c.charCodeAt(0),43===e||45===e){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>n)return NaN;return parseInt(i,a)}return+c};if(i(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(y?u((function(){w.valueOf.call(r)})):l(r)!=b)?c(new v(B(e)),r,x):B(e)},_=a?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;_.length>I;I++)s(v,S=_[I])&&!s(x,S)&&g(x,S,p(v,S));x.prototype=w,w.constructor=x,o(n,b,x)}},e92e:function(t,e,r){"use strict";r("f954")},eb78:function(t,e,r){},f2a8:function(t,e,r){"use strict";r("97a6")},f890:function(t,e,r){"use strict";r("9a49")},f954:function(t,e,r){}}]);