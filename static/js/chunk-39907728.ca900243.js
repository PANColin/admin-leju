(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39907728"],{"0813":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.orderBase.id?r("el-card",{attrs:{shadow:"hover","body-style":{padding:"20px"}}},[r("div",{staticClass:"row1"},[5!==e.orderBase.status?r("el-steps",{staticClass:"steps",attrs:{active:e.orderBase.status+1,"finish-status":"success"}},e._l(5,(function(t,a){return r("el-step",{key:a,staticClass:"step-item",attrs:{title:e._f("statusText")(a),description:a<=e.orderBase.status?e.statusTime(a):""}})})),1):e._e()],1),r("div",{staticClass:"row2"},[r("h3",[e._v(" 订单信息:"),r("el-tag",[e._v(e._s(e._f("statusText")(e.orderBase.status)))])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v("订单金额:"),r("span",{staticStyle:{color:"#f00"}},[e._v("￥"+e._s(e.orderBase.totalAmount))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v("订单编号:"+e._s(e.orderBase.orderSn))]),r("el-col",{attrs:{span:6,offset:0}},[e._v("用户账号:"+e._s(e.orderBase.memberUsername))]),r("el-col",{attrs:{span:6,offset:0}},[e._v("备注:"+e._s(e.orderBase.note))])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v("下单时间:"+e._s(e.statusTime(0)))]),r("el-col",{attrs:{span:6,offset:0}},[e._v("付款时间:"+e._s(e.statusTime(1)))]),r("el-col",{attrs:{span:6,offset:0}},[e._v("发货时间:"+e._s(e.statusTime(2)))]),r("el-col",{attrs:{span:6,offset:0}},[e._v("收货时间:"+e._s(e.statusTime(3)))])],1)],1),r("div",{staticClass:"row3"},[r("h3",[e._v(" 收货人信息 ")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v("收货人:"),r("span",{staticStyle:{color:"#f00"}},[e._v(e._s(e.orderBase.receiverName))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v("用户账号:"+e._s(e.orderBase.memberUsername))]),r("el-col",{attrs:{span:6,offset:0}},[e._v("手机号码:"+e._s(e.orderBase.receiverPhone))]),r("el-col",{attrs:{span:6,offset:0}},[e._v("邮政编码:"+e._s(e.orderBase.receiverPostCode))])],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[e._v("地址:"+e._s(""+e.orderBase.receiverProvince+e.orderBase.receiverCity+e.orderBase.receiverRegion))]),r("el-col",{attrs:{span:12,offset:0}},[e._v("详细地址:"+e._s(e.orderBase.receiverDetailAddress))])],1)],1),r("div",{staticClass:"row4"},[r("h3",[e._v("商品信息")]),r("el-table",{attrs:{data:e.orderItems,border:"",stripe:""}},[r("el-table-column",{attrs:{align:"center",prop:"productName",label:"商品名称",fixed:"left","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{align:"center",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("img",{attrs:{src:e.row.productPic,alt:"",width:"120",height:"120"}})]}}],null,!1,2086435023)}),r("el-table-column",{attrs:{align:"center",label:"是否退货"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:t.row.isReturn?"danger":"info"}},[e._v(e._s(t.row.isReturn?"是":"否"))])]}}],null,!1,50435060)}),r("el-table-column",{attrs:{align:"center",prop:"productBrand",label:"品牌"}}),r("el-table-column",{attrs:{align:"center",prop:"productPrice",label:"价格"}}),r("el-table-column",{attrs:{align:"center",prop:"productQuantity",label:"商品数量"}}),r("el-table-column",{attrs:{align:"center",prop:"giftGrowth",label:"促销优惠金额"}}),r("el-table-column",{attrs:{align:"center",prop:"giftIntegration",label:"运费金额"}}),r("el-table-column",{attrs:{align:"center",prop:"totalPrice",label:"小计",fixed:"right"}})],1)],1),r("div",{staticClass:"row5"},[r("h3",[e._v("费用信息")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[e._v("运费总金额:"),r("span",{staticStyle:{color:"#f00"}},[e._v(e._s(e.totalGiftIntegration))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v("订单总金额:"),r("span",{staticStyle:{color:"#f00"}},[e._v(e._s(e.orderBase.totalAmount))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v("实际金额:"),r("span",{staticStyle:{color:"#f00"}},[e._v(e._s(e.orderBase.payAmount))])]),r("el-col",{attrs:{span:6,offset:0}},[e._v("促销优惠总金额:"),r("span",{staticStyle:{color:"#f00"}},[e._v(e._s(e.totalGiftGrowth))])])],1)],1),1===e.orderBase.status?r("div",{staticClass:"row6"},[r("el-form",{ref:"form",attrs:{model:e.wuliuForm,rules:e.rules,"label-width":"80px",inline:!1,size:"normal"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"物流公司",prop:"deliveryCompany"}},[r("el-select",{attrs:{name:"deliveryCompany",clearable:"",placeholder:"物流公司"},model:{value:e.wuliuForm.deliveryCompany,callback:function(t){e.$set(e.wuliuForm,"deliveryCompany",t)},expression:"wuliuForm.deliveryCompany"}},e._l(e.wuliuList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.lable,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"物流单号",size:"normal",prop:"deliverySn"}},[r("el-input",{attrs:{placeholder:"亲输入物流单号",size:"normal",clearable:""},model:{value:e.wuliuForm.deliverySn,callback:function(t){e.$set(e.wuliuForm,"deliverySn",e._n(t))},expression:"wuliuForm.deliverySn"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSureSend}},[e._v("确认发货")]),r("el-button",{on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)],1):e._e(),e.orderBase.status>=2&&5!==e.orderBase.status?r("div",{staticClass:"row7"},[r("h3",[e._v(" 物流信息:"+e._s(e.orderBase.deliveryCompany+" ["+e.orderBase.deliverySn+"]")+" ")]),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,fit:""}},[r("el-table-column",{attrs:{label:"日期",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{staticClass:"el-icon-time"}),r("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.date))])]}}],null,!1,3904736537)}),r("el-table-column",{attrs:{prop:"detailStatus",label:"状态","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"备注",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name?r("el-popover",{attrs:{trigger:"hover",placement:"top"}},[r("p",[e._v("姓名: "+e._s(t.row.name))]),r("p",[e._v("联系电话: "+e._s(t.row.phone))]),r("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[r("el-tag",{attrs:{size:"medium"}},[e._v("投递人:"+e._s(t.row.name))])],1)]):e._e()]}}],null,!1,1808380031)})],1),2===e.orderBase.status&&e.forceSendShow?r("div",{staticClass:"btm",staticStyle:{"text-align":"center",margin:"10px"}},[r("el-popconfirm",{attrs:{title:"亲,您确定要强制确认收货吗？"},on:{onConfirm:e.forceReciveOrder}},[r("el-button",{attrs:{slot:"reference",type:"danger",round:"",size:"default"},slot:"reference"},[e._v("强制确认收货")])],1)],1):e._e(),3===e.orderBase.status?r("div",{staticClass:"btm",staticStyle:{"text-align":"center",margin:"10px"}},[r("el-popconfirm",{attrs:{title:"亲,您确定要关闭当前订单吗？"},on:{onConfirm:e.closeOrder}},[r("el-button",{attrs:{slot:"reference",type:"danger",round:"",size:"default"},slot:"reference"},[e._v("关闭订单")])],1)],1):e._e()],1):e._e()]):e._e(),r("copyright")],1)},s=[],n=r("1da1"),o=(r("159b"),r("96cf"),r("2f08")),l=r("3a10"),i={name:"orderDetail",components:{copyright:o["a"]},filters:{statusText:function(e){return 0==e?"待付款":1==e?"待发货":2==e?"已发货":3==e?"已完成":4==e?"已关闭":"无效订单"}},computed:{totalGiftIntegration:function(){return this.orderItems.reduce((function(e,t){return e+t.giftIntegration}),0)},totalGiftGrowth:function(){return this.orderItems.reduce((function(e,t){return e+t.giftGrowth}),0)},statusTime:function(){return function(e){return 0==e?this.orderBase.createTime:1==e?this.orderBase.paymentTime:2==e?this.orderBase.deliveryTime:3==e?this.orderBase.receiveTime:4==e?this.orderBase.finishTime:"无效订单"}}},data:function(){return{forceSendShow:!0,tableData:[{date:"2021-05-02 21:16:58",detailStatus:"深圳市横岗速递营销部已收件",name:"王虎",phone:"18546378912"},{date:"2021-05-03 01:16:58",detailStatus:"离开深圳市 发往广州市"},{date:"2021-05-03 11:16:58",detailStatus:"到达广东速递物流公司广航中心处理中心（经转）"},{date:"2021-05-04 04:16:58",detailStatus:"呼和浩特市邮政速递物流分公司金川揽投部安排投递",name:"潘安",phone:"13356779954"}],rules:{deliveryCompany:[{required:!0,message:"请选择物流公司",trigger:"change"}],deliverySn:[{required:!0,message:"请输入物流单号",trigger:"blur"},{type:"number",message:"单号必须是数字类型",trigger:"blur"}]},wuliuList:[{id:1,lable:"顺丰快递",value:"顺丰快递"},{id:2,lable:"韵达快递",value:"韵达快递"},{id:3,lable:"中国邮政",value:"中国邮政"},{id:4,lable:"申通快递",value:"申通快递"},{id:5,lable:"中通快递",value:"中通快递"},{id:6,lable:"极兔快递",value:"极兔快递"}],orderBase:{},orderItems:[],wuliuForm:{}}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n,o,i,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$route.params.id,t.next=3,Object(l["c"])(n);case 3:if(o=t.sent,i=o.success,c=o.data,u=o.message,i){t.next=9;break}return t.abrupt("return",e.$message.error(u));case 9:null!==(a=(r=c.orderDetail.orderBase).note)&&void 0!==a||(r.note="无"),(s=c.orderDetail.orderBase).receiverPostCode||(s.receiverPostCode="无"),e.orderBase=c.orderDetail.orderBase,e.orderItems=c.orderDetail.orderItems,e.judgeForce();case 14:case"end":return t.stop()}}),t)})))()},methods:{judgeForce:function(){var e=this;this.orderItems.forEach((function(t){0===t.isReturn&&(e.forceSendShow=!1)}))},forceReciveOrder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.orderBase.id,t.next=3,Object(l["d"])(r);case 3:if(a=t.sent,s=a.success,n=a.message,s){t.next=8;break}return t.abrupt("return",e.$message.error(n));case 8:e.$message.success("强制确认收货成功"),e.$router.go(0);case 10:case"end":return t.stop()}}),t)})))()},closeOrder:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.orderBase.id,t.next=3,Object(l["b"])(r);case 3:if(a=t.sent,s=a.success,n=a.message,s){t.next=8;break}return t.abrupt("return",e.$message.error(n));case 8:e.$message.success("关闭订单成功"),e.$router.go(0);case 10:case"end":return t.stop()}}),t)})))()},reset:function(){this.$refs.form.resetFields()},onSureSend:function(){var e=this;this.$refs.form.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var a,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=13;break}return e.wuliuForm.orderId=e.orderBase.id,t.next=4,Object(l["e"])(e.wuliuForm);case 4:if(a=t.sent,s=a.success,n=a.message,s){t.next=9;break}return t.abrupt("return",e.$message.error(n));case 9:e.$message.success("确认发货成功"),e.$router.go(0),t.next=15;break;case 13:return e.$message.warning("请注意输入的内容是否有误!"),t.abrupt("return",!1);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=i,u=r("2877"),d=Object(u["a"])(c,a,s,!1,null,"7c127b39",null);t["default"]=d.exports},"2f08":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper-copyright"},[r("div",{staticClass:"row1"},[r("span",[e._v("Element")]),r("a",{attrs:{href:"https://github.com/PanJiaChen/vue-element-admin",target:"blank"}},[r("img",{attrs:{src:"https://img0.baidu.com/it/u=2078769130,3528906519&fm=26&fmt=auto&gp=0.jpg",alt:""}})]),r("span",[e._v("Element-admin")])]),r("div",{staticClass:"row2"},[r("span",[e._v("Copyright© 2017-2020 不凡学院 豫ICP备 17015347号")])])])}],n={name:"Copyright"},o=n,l=(r("97db"),r("2877")),i=Object(l["a"])(o,a,s,!1,null,"5e5f4c36",null);t["a"]=i.exports},"3a10":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return i}));r("99af");var a=r("0c6d");function s(e,t,r){return Object(a["a"])({url:"/lejuAdmin/order/findOrdersByPage/".concat(e,"/").concat(t),method:"post",data:r})}function n(e){return Object(a["a"])({url:"/lejuAdmin/order/finishOrder/".concat(e),method:"post"})}function o(e){return Object(a["a"])({url:"/lejuAdmin/order/orderDetail/".concat(e)})}function l(e){return Object(a["a"])({url:"/lejuAdmin/order/receiveProductsForce/".concat(e),method:"post"})}function i(e){return Object(a["a"])({url:"/lejuAdmin/order/sendDone",method:"post",data:e})}},"97db":function(e,t,r){"use strict";r("eb78")},eb78:function(e,t,r){}}]);