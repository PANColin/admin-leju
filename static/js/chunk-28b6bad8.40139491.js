(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28b6bad8"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("fb6a"),r("d3b7"),r("b0c0"),r("a630"),r("3ca3");var a=r("6b75");function n(t,e){if(t){if("string"===typeof t)return Object(a["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(a["a"])(t,e):void 0}}},"11b9":function(t,e,r){"use strict";r("4f1c")},1276:function(t,e,r){"use strict";var a=r("d784"),n=r("44e7"),o=r("825a"),l=r("1d80"),i=r("4840"),s=r("8aa5"),c=r("50c4"),u=r("14c3"),d=r("9263"),p=r("d039"),f=[].push,m=Math.min,b=4294967295,v=!p((function(){return!RegExp(b,"y")}));a("split",2,(function(t,e,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var a=String(l(this)),o=void 0===r?b:r>>>0;if(0===o)return[];if(void 0===t)return[a];if(!n(t))return e.call(a,t,o);var i,s,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=new RegExp(t.source,p+"g");while(i=d.call(v,a)){if(s=v.lastIndex,s>m&&(u.push(a.slice(m,i.index)),i.length>1&&i.index<a.length&&f.apply(u,i.slice(1)),c=i[0].length,m=s,u.length>=o))break;v.lastIndex===i.index&&v.lastIndex++}return m===a.length?!c&&v.test("")||u.push(""):u.push(a.slice(m)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var n=l(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n,r):a.call(String(n),e,r)},function(t,n){var l=r(a,t,this,n,a!==e);if(l.done)return l.value;var d=o(t),p=String(this),f=i(d,RegExp),h=d.unicode,g=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),k=new f(v?d:"^(?:"+d.source+")",g),S=void 0===n?b:n>>>0;if(0===S)return[];if(0===p.length)return null===u(k,p)?[p]:[];var y=0,w=0,x=[];while(w<p.length){k.lastIndex=v?w:0;var I,_=u(k,v?p:p.slice(w));if(null===_||(I=m(c(k.lastIndex+(v?0:w)),p.length))===y)w=s(p,w,h);else{if(x.push(p.slice(y,w)),x.length===S)return x;for(var $=1;$<=_.length-1;$++)if(x.push(_[$]),x.length===S)return x;w=y=I}}return x.push(p.slice(y)),x}]}),!v)},"14c3":function(t,e,r){var a=r("c6b6"),n=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"3f83":function(t,e,r){},"4c01":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return i})),r.d(e,"e",(function(){return s})),r.d(e,"f",(function(){return c}));r("99af");var a=r("0c6d");function n(t){return Object(a["a"])({url:"/lejuAdmin/brand/addBrand",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/lejuAdmin/brand/delBrand/".concat(t),method:"delete"})}function l(){return Object(a["a"])({url:"/lejuAdmin/brand/findAllBrand"})}function i(t,e){return Object(a["a"])({url:"/lejuAdmin/brand/findBrandByPage/".concat(t,"/").concat(e)})}function s(t){return Object(a["a"])({url:"/lejuAdmin/brand/switchShowStatus",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/lejuAdmin/brand/updateBrand",method:"post",data:t})}},"4df4":function(t,e,r){"use strict";var a=r("0366"),n=r("7b0b"),o=r("9bdd"),l=r("e95a"),i=r("50c4"),s=r("8418"),c=r("35a1");t.exports=function(t){var e,r,u,d,p,f,m=n(t),b="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,g=void 0!==h,k=c(m),S=0;if(g&&(h=a(h,v>2?arguments[2]:void 0,2)),void 0==k||b==Array&&l(k))for(e=i(m.length),r=new b(e);e>S;S++)f=g?h(m[S],S):m[S],s(r,S,f);else for(d=k.call(m),p=d.next,r=new b;!(u=p.call(d)).done;S++)f=g?o(d,h,[u.value,S],!0):u.value,s(r,S,f);return r.length=S,r}},"4f1c":function(t,e,r){},"64e2":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-card",{attrs:{shadow:"hover","body-style":{padding:"0px"}}},[r("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[r("el-step",{attrs:{title:"商品基本信息"}}),r("el-step",{attrs:{title:"添加库存信息"}}),r("el-step",{attrs:{title:"添加移动端详情"}})],1)],1),r("el-card",{attrs:{shadow:"hover","body-style":{paddingTop:"20px",paddingBottom:"0"}}},[r("el-form",{ref:"ruleForm",attrs:{model:t.product,rules:t.rules,"label-width":"120px",inline:!1,size:"normal"}},[1==t.active?r("div",{staticClass:"row1"},[r("div",{staticClass:"header"},[t._v(" 基本信息 ")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[r("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name","string"===typeof e?e.trim():e)},expression:"product.name"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品编码",prop:"productSn"}},[r("el-input",{attrs:{placeholder:"请输入商品编码"},model:{value:t.product.productSn,callback:function(e){t.$set(t.product,"productSn","string"===typeof e?e.trim():e)},expression:"product.productSn"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"品牌",prop:"brandId"}},[r("el-select",{attrs:{name:"brandId",clearable:"",placeholder:"品牌"},model:{value:t.product.brandId,callback:function(e){t.$set(t.product,"brandId",e)},expression:"product.brandId"}},t._l(t.brandList,(function(t){return r("el-option",{key:t.brandId,attrs:{label:t.brandName,value:t.value}})})),1)],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"上架状态",prop:"publishStatus"}},[r("el-select",{attrs:{name:"publishStatus",clearable:"",placeholder:"上架状态"},model:{value:t.product.publishStatus,callback:function(e){t.$set(t.product,"publishStatus",e)},expression:"product.publishStatus"}},t._l(t.publishStatusList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.lable,value:t.value}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"审核状态",prop:"verifyStatus"}},[r("el-select",{attrs:{name:"verifyStatus",clearable:"",placeholder:"审核状态"},model:{value:t.product.verifyStatus,callback:function(e){t.$set(t.product,"verifyStatus",e)},expression:"product.verifyStatus"}},t._l(t.verifyStatusList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.lable,value:t.value}})})),1)],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品分类",prop:"productCategoryName"}},[r("el-select",{attrs:{name:"productCategoryName",clearable:"",placeholder:"商品分类"},model:{value:t.product.productCategoryName,callback:function(e){t.$set(t.product,"productCategoryName",e)},expression:"product.productCategoryName"}},t._l(t.categoryList,(function(t,e){return r("el-option",{key:e,attrs:{label:t.lable,value:t.value}})})),1)],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"商品描述"}},[r("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入商品描述"},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1)],1)],1)],1):t._e(),1==t.active?r("div",{staticClass:"row2"},[r("div",{staticClass:"header"},[t._v(" 商品属性 ")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品原价",prop:"originalPrice"}},[r("el-input",{attrs:{placeholder:"请输入商品原价"},model:{value:t.product.originalPrice,callback:function(e){t.$set(t.product,"originalPrice",t._n(e))},expression:"product.originalPrice"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品现价",prop:"price"}},[r("el-input",{attrs:{placeholder:"请输入商品现价"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",t._n(e))},expression:"product.price"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"商品重量",prop:"weight"}},[r("el-input",{attrs:{placeholder:"请输入商品重量"},model:{value:t.product.weight,callback:function(e){t.$set(t.product,"weight",t._n(e))},expression:"product.weight"}})],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"促销类型"}},[r("el-select",{attrs:{placeholder:"没有促销，使用原价",clearable:"",filterable:"",disabled:""},model:{value:t.product.promotionType,callback:function(e){t.$set(t.product,"promotionType",e)},expression:"product.promotionType"}},[r("el-option",{attrs:{value:""}})],1)],1)],1),r("el-col",{attrs:{span:6,offset:0}},[r("el-form-item",{attrs:{label:"活动价格"}},[r("el-input",{attrs:{disabled:"",value:"0",placeholder:"请输入活动价格"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"缩略图"}},[r("upload-img",{attrs:{imgSrcStr:t.showPic,isFlex:!0,isShowImg:!0,listType:"picture-card"},on:{reciveImgSrc:function(e){return t.handleImgSrc(e)}}})],1)],1)],1)],1):t._e(),1==t.active?r("div",{staticClass:"row3"},[r("div",{staticClass:"header"},[t._v("其他信息")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"推荐状态",size:"normal"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#999","active-value":1,"inactive-value":0},model:{value:t.product.recommendStatus,callback:function(e){t.$set(t.product,"recommendStatus",e)},expression:"product.recommendStatus"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"新品状态",size:"normal"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#999","active-value":1,"inactive-value":0},model:{value:t.product.newStatus,callback:function(e){t.$set(t.product,"newStatus",e)},expression:"product.newStatus"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"预告商品",size:"normal"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#999","active-value":1,"inactive-value":0},model:{value:t.product.previewStatus,callback:function(e){t.$set(t.product,"previewStatus",e)},expression:"product.previewStatus"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"搜索关键词",size:"normal"}},[r("el-input",{attrs:{placeholder:"搜索关键词",size:"normal",clearable:""},model:{value:t.product.keywords,callback:function(e){t.$set(t.product,"keywords",e)},expression:"product.keywords"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"库存预警",size:"normal",prop:"lowStock"}},[r("el-input",{attrs:{placeholder:"库存预警",size:"normal",clearable:""},model:{value:t.product.lowStock,callback:function(e){t.$set(t.product,"lowStock",t._n(e))},expression:"product.lowStock"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"商品排序",size:"normal",prop:"sort"}},[r("el-input",{attrs:{placeholder:"商品排序",size:"normal",clearable:""},model:{value:t.product.sort,callback:function(e){t.$set(t.product,"sort",t._n(e))},expression:"product.sort"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:0}},[r("el-form-item",{attrs:{label:"产品服务",size:"normal"}},[r("el-checkbox-group",{model:{value:t.product.serviceIds,callback:function(e){t.$set(t.product,"serviceIds",e)},expression:"product.serviceIds"}},[r("el-checkbox",{attrs:{label:"1"}},[t._v("无忧退货")]),r("el-checkbox",{attrs:{label:"2"}},[t._v("快速退款")]),r("el-checkbox",{attrs:{label:"3"}},[t._v("免费包邮")])],1)],1)],1)],1)],1):t._e(),2==t.active?r("div",{staticClass:"row4"},[r("div",{staticClass:"header"},[t._v("商品sku信息")]),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"标题",prop:"title"}},[r("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title","string"===typeof e?e.trim():e)},expression:"product.title"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("el-form-item",{attrs:{label:"副标题",prop:"subTitle "}},[r("el-input",{attrs:{placeholder:"请输入副标题"},model:{value:t.product.subTitle,callback:function(e){t.$set(t.product,"subTitle","string"===typeof e?e.trim():e)},expression:"product.subTitle"}})],1)],1),r("el-col",{attrs:{span:8,offset:0}},[r("span",{staticStyle:{color:"#f00","font-size":"18px"}},[t._v("*")]),r("el-button",{attrs:{type:"text",size:"medium"},on:{click:t.addSku}},[t._v("sku设置")])],1)],1),r("sku-detail",{ref:"sku",attrs:{showSkuList:t.pmsSkuStockList},on:{getskuList:t.getpmsSkuStockList}}),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24,offset:0}},[r("el-form-item",{attrs:{label:"画册图片"}},[r("upload-img",{attrs:{imgSrcList:t.showPicList,isMultiple:!0,limitNumber:5,isFlex:!0,isShowImg:!0,listType:"picture-card"},on:{reciveImgSrcList:t.handleImgSrcList}})],1)],1)],1)],1):t._e(),3==t.active?r("div",{staticClass:"row5"},[r("el-form-item",{attrs:{label:"详情描述"}},[r("Tinymce",{attrs:{height:400},model:{value:t.tinContent,callback:function(e){t.tinContent=e},expression:"tinContent"}})],1),r("el-form-item",{attrs:{label:"备注",size:"normal"}},[r("el-input",{attrs:{placeholder:"请输入备注",size:"normal",clearable:""},model:{value:t.product.note,callback:function(e){t.$set(t.product,"note",e)},expression:"product.note"}})],1)],1):t._e()]),r("div",{staticClass:"footer"},[t.active>1?r("el-button",{staticStyle:{"margin-top":"12px"},on:{click:t.pre}},[t._v("返回上一步")]):t._e(),1==t.active?r("el-button",{staticStyle:{"margin-top":"12px"},attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步,填写库存信息")]):t._e(),2==t.active?r("el-button",{staticStyle:{"margin-top":"12px"},attrs:{type:"primary"},on:{click:t.next}},[t._v("下一步,填写移动端详情")]):t._e(),3==t.active?r("el-button",{staticStyle:{"margin-top":"12px"},attrs:{type:"primary"},on:{click:t.doSave}},[t._v("提交保存")]):t._e()],1)],1),r("copyright")],1)},n=[],o=r("1da1"),l=(r("96cf"),r("ac1f"),r("1276"),r("159b"),r("d81d"),r("b0c0"),r("a15b"),r("7db0"),r("8256")),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dialog-detail"},[r("el-dialog",{attrs:{title:"编辑sku",visible:t.dialogVisible,"custom-class":"dialog"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("el-button",{attrs:{type:"primary",size:"default"},on:{click:t.addSku}},[t._v("新增")]),r("el-table",{attrs:{data:t.addSkuList,border:"",stripe:""}},[r("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center",fixed:"left"}}),r("el-table-column",{attrs:{label:"图片",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("upload-img",{attrs:{listType:"text"},on:{reciveImgSrc:function(r){return t.handleImgSrc(r,e.row)}}}),e.row.pic?r("img",{attrs:{src:e.row.pic,alt:"",width:"100",height:"100"}}):t._e()]}}])}),r("el-table-column",{attrs:{label:"颜色",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"颜色",size:"normal",clearable:""},model:{value:e.row.spData[0].value,callback:function(r){t.$set(e.row.spData[0],"value",r)},expression:"scope.row.spData[0].value"}})]}}])}),r("el-table-column",{attrs:{label:"规格",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"规格",size:"normal",clearable:""},model:{value:e.row.spData[1].value,callback:function(r){t.$set(e.row.spData[1],"value",r)},expression:"scope.row.spData[1].value"}})]}}])}),r("el-table-column",{attrs:{label:"库存",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"库存",size:"normal",clearable:""},model:{value:e.row.stock,callback:function(r){t.$set(e.row,"stock",r)},expression:"scope.row.stock"}})]}}])}),r("el-table-column",{attrs:{label:"预警库存",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"预警库存",size:"normal",clearable:""},model:{value:e.row.lowStock,callback:function(r){t.$set(e.row,"lowStock",r)},expression:"scope.row.lowStock"}})]}}])}),r("el-table-column",{attrs:{label:"锁定库存",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"锁定库存",size:"normal",clearable:""},model:{value:e.row.lockStock,callback:function(r){t.$set(e.row,"lockStock",r)},expression:"scope.row.lockStock"}})]}}])}),r("el-table-column",{attrs:{label:"sku编码",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"sku编码",size:"normal",clearable:""},model:{value:e.row.skuCode,callback:function(r){t.$set(e.row,"skuCode",r)},expression:"scope.row.skuCode"}})]}}])}),r("el-table-column",{attrs:{label:"价格",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"价格",size:"normal",clearable:""},model:{value:e.row.price,callback:function(r){t.$set(e.row,"price",r)},expression:"scope.row.price"}})]}}])}),r("el-table-column",{attrs:{label:"销量",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-input",{attrs:{placeholder:"销量",size:"normal",clearable:""},model:{value:e.row.sale,callback:function(r){t.$set(e.row,"sale",r)},expression:"scope.row.sale"}})]}}])}),r("el-table-column",{attrs:{label:"操作",width:"160",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("div",[r("el-popconfirm",{attrs:{title:"亲,您确定要删除吗？"},on:{onConfirm:function(r){return t.delSkuLocle(e.$index,e.row)}}},[r("el-button",{staticStyle:{color:"#f00"},attrs:{slot:"reference",type:"text",size:"default"},slot:"reference"},[t._v("删除")])],1)],1)]}}])})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.addSkuList.length>0?r("el-button",{attrs:{type:"primary",size:"default"},on:{click:t.getskuList}},[t._v("获取skuList")]):t._e(),r("el-button",{on:{click:t.handleClose}},[t._v("取 消")])],1)],1)],1)},s=[],c=(r("a434"),r("b64b"),r("1f91")),u={components:{UploadImg:c["a"]},props:{showSkuList:{type:Array,default:function(){return[]}}},computed:{},created:function(){},mounted:function(){this.addSkuList=this.showSkuList},data:function(){return{addSkuList:[],dialogVisible:!1}},methods:{delSkuLocle:function(t,e){this.addSkuList.splice(t,1)},getskuList:function(){var t=this;this.addSkuList.forEach((function(t){t.spData=JSON.stringify(t.spData)}));var e=this.addSkuList.every((function(e){var r=0;for(var a in e)if("spData"!==a&&"createTime"!==a&&"id"!==a&&"productId"!==a&&"promotionPrice"!==a&&"modifyTime"!==a)if(e[a]&&r++,t.$route.meta.isEdit){if(r==Object.keys(e).length-6)return!0}else if(r==Object.keys(e).length-1)return!0}));if(!e)return this.$message.warning("请注意是否还有未输入的内容");this.$message.success("获取skuList成功"),this.$emit("getskuList",this.addSkuList),this.handleClose()},addSku:function(){this.addSkuList.push({lockStock:"",lowStock:"",pic:"",price:"",sale:"",skuCode:"",spData:[{key:"颜色",value:""},{key:"规格",value:""}],stock:""})},handleImgSrc:function(t,e){e.pic=t.url},handleClose:function(){this.dialogVisible=!1},openDialog:function(){this.dialogVisible=!0}}},d=u,p=(r("9978"),r("2877")),f=Object(p["a"])(d,i,s,!1,null,"290b4b24",null),m=f.exports,b=r("2f08"),v=r("4c01"),h=r("90dc"),g={name:"productDetail",components:{copyright:b["a"],UploadImg:c["a"],skuDetail:m,Tinymce:l["a"]},data:function(){return{showPic:"",showPicList:[],tinContent:"",checkList:[],active:1,id:"",activeName:1,loading:!1,list:[],verifyStatusList:[{id:1,lable:"未审核",value:"0"},{id:1,lable:"已审核",value:"1"}],publishStatusList:[{id:1,lable:"未上架",value:"0"},{id:1,lable:"已上架",value:"1"}],categoryList:[{id:1,lable:"创意",value:"创意"},{id:1,lable:"风格",value:"风格"},{id:1,lable:"饰品",value:"饰品"},{id:1,lable:"灯具",value:"灯具"}],brandList:[],skuList:[],pmsSkuStockList:[],product:{name:"",pic:"",serviceIds:[],brandId:"",productSn:"",publishStatus:"",verifyStatus:"",detailHtml:"",detailDesc:""},rules:{name:[{required:!0,message:"商品名不能为空",trigger:"blur"},{min:2,max:30,message:"长度在 2 到 30 个字符",trigger:"blur"}],originalPrice:[{required:!0,message:"商品原价不能为空",trigger:"blur"},{type:"number",message:"必须是数字类型",trigger:"blur"}],price:[{required:!0,message:"商品现价不能为空",trigger:"blur"},{type:"number",message:"必须是数字类型",trigger:"blur"}],weight:[{type:"number",message:"必须是数字类型",trigger:"blur"}],lowStock:[{type:"number",message:"必须是数字类型",trigger:"blur"}],sort:[{type:"number",message:"必须是数字类型",trigger:"blur"}],productCategoryName:[{required:!0,message:"请选择分类商品",trigger:"change"}],publishStatus:[{required:!0,message:"请选择上架状态",trigger:"change"}],verifyStatus:[{required:!0,message:"请选择审核状态",trigger:"change"}]},total:0}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a,n,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.meta.isEdit){e.next=18;break}return r=t.$route.params.id,e.next=4,Object(h["c"])(r);case 4:if(a=e.sent,n=a.success,o=a.data,l=a.message,n){e.next=10;break}return e.abrupt("return",t.$message.error(l));case 10:t.product=o.product,t.pmsSkuStockList=o.skus,t.tinContent=t.product.detailDesc,t.product.albumPics=t.product.albumPics.split(","),t.product.serviceIds=t.product.serviceIds.split(","),t.showPic=t.product.pic,t.showPicList=t.product.albumPics,t.pmsSkuStockList.forEach((function(t){t.spData=JSON.parse(t.spData)}));case 18:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(v["c"])();case 2:if(r=e.sent,a=r.success,n=r.data,o=r.message,a){e.next=8;break}return e.abrupt("return",t.$message.error(o));case 8:t.brandList=n.items.map((function(t){return{brandId:t.id,brandName:t.name,value:t.id}}));case 9:case"end":return e.stop()}}),e)})))()},methods:{doSave:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,a,n,o,l,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.product.detailDesc=t.tinContent,t.product.detailHtml=t.tinContent,!(t.pmsSkuStockList.length<=0)){e.next=4;break}return e.abrupt("return",t.$message.warning("请检查sku列表是否填写"));case 4:return t.$route.meta.isEdit?(a=h["i"],t.product.albumPics=null===(o=t.product.albumPics)||void 0===o?void 0:o.join(","),t.product.serviceIds=t.product.serviceIds.join(","),t.pmsSkuStockList.forEach((function(t){t.spData=JSON.stringify(t.spData)})),n="修改成功",r={pmsSkuStockList:t.pmsSkuStockList,product:t.product}):(a=h["a"],n="添加成功",r={pmsSkuStockList:t.pmsSkuStockList,product:t.product}),e.next=7,a(r);case 7:if(l=e.sent,i=l.success,s=l.message,i){e.next=12;break}return e.abrupt("return",t.$message.error(s));case 12:t.$message.success(n),t.$router.push({name:"productsList"});case 14:case"end":return e.stop()}}),e)})))()},getpmsSkuStockList:function(t){this.pmsSkuStockList=t},addSku:function(){this.$refs.sku.openDialog()},handleImgSrc:function(t){this.product.pic=t.url},handleImgSrcList:function(t){this.product.albumPics=t.join(",")},next:function(){var t=this,e=this.brandList.find((function(e){return e.value==t.product.brandId}));if(!e)return this.$message.warning("请注意选择品牌分类");this.product.brandName=e.brandName,this.product.serviceIds.length>0&&2==this.active&&(this.$route.meta.isEdit||(this.product.serviceIds=this.product.serviceIds.join(","))),this.$refs.ruleForm.validate((function(e){return e?t.active++>2?t.active=3:void 0:(t.$message.warning("请注意表单验证"),!1)}))},pre:function(){if(this.active--<=1)return this.active=1}}},k=g,S=(r("11b9"),Object(p["a"])(k,a,n,!1,null,"49ac9eb2",null));e["default"]=S.exports},"6b75":function(t,e,r){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}r.d(e,"a",(function(){return a}))},7156:function(t,e,r){var a=r("861d"),n=r("d2bb");t.exports=function(t,e,r){var o,l;return n&&"function"==typeof(o=e.constructor)&&o!==r&&a(l=o.prototype)&&l!==r.prototype&&n(t,l),t}},"7db0":function(t,e,r){"use strict";var a=r("23e7"),n=r("b727").find,o=r("44d2"),l=r("ae40"),i="find",s=!0,c=l(i);i in[]&&Array(1)[i]((function(){s=!1})),a({target:"Array",proto:!0,forced:s||!c},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(i)},"8aa5":function(t,e,r){"use strict";var a=r("6547").charAt;t.exports=function(t,e,r){return e+(r?a(t,e).length:1)}},"90dc":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return o})),r.d(e,"c",(function(){return l})),r.d(e,"d",(function(){return i})),r.d(e,"e",(function(){return s})),r.d(e,"f",(function(){return c})),r.d(e,"g",(function(){return u})),r.d(e,"h",(function(){return d})),r.d(e,"i",(function(){return p}));r("99af");var a=r("0c6d");function n(t){return Object(a["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/lejuAdmin/product/del/".concat(t),method:"delete"})}function l(t){return Object(a["a"])({url:"/lejuAdmin/product/productSkusDetail/".concat(t)})}function i(t,e,r){return Object(a["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:r})}function s(t){return Object(a["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:t})}function c(t){return Object(a["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/lejuAdmin/product/updateProductAndSkus",method:"post",data:t})}},9263:function(t,e,r){"use strict";var a=r("ad6d"),n=r("9f7f"),o=RegExp.prototype.exec,l=String.prototype.replace,i=o,s=function(){var t=/a/,e=/b*/g;return o.call(t,"a"),o.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=s||u||c;d&&(i=function(t){var e,r,n,i,d=this,p=c&&d.sticky,f=a.call(d),m=d.source,b=0,v=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(m="(?: "+m+")",v=" "+v,b++),r=new RegExp("^(?:"+m+")",f)),u&&(r=new RegExp("^"+m+"$(?!\\s)",f)),s&&(e=d.lastIndex),n=o.call(p?r:d,v),p?n?(n.input=n.input.slice(b),n[0]=n[0].slice(b),n.index=d.lastIndex,d.lastIndex+=n[0].length):d.lastIndex=0:s&&n&&(d.lastIndex=d.global?n.index+n[0].length:e),u&&n&&n.length>1&&l.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}),t.exports=i},9978:function(t,e,r){"use strict";r("3f83")},"9f7f":function(t,e,r){"use strict";var a=r("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,r){"use strict";var a=r("23e7"),n=r("44ad"),o=r("fc6a"),l=r("a640"),i=[].join,s=n!=Object,c=l("join",",");a({target:"Array",proto:!0,forced:s||!c},{join:function(t){return i.call(o(this),void 0===t?",":t)}})},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),o=r("1c7e"),l=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:l},{from:n})},a9e3:function(t,e,r){"use strict";var a=r("83ab"),n=r("da84"),o=r("94ca"),l=r("6eeb"),i=r("5135"),s=r("c6b6"),c=r("7156"),u=r("c04e"),d=r("d039"),p=r("7c73"),f=r("241c").f,m=r("06cf").f,b=r("9bf2").f,v=r("58a8").trim,h="Number",g=n[h],k=g.prototype,S=s(p(k))==h,y=function(t){var e,r,a,n,o,l,i,s,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=v(c),e=c.charCodeAt(0),43===e||45===e){if(r=c.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+c}for(o=c.slice(2),l=o.length,i=0;i<l;i++)if(s=o.charCodeAt(i),s<48||s>n)return NaN;return parseInt(o,a)}return+c};if(o(h,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(S?d((function(){k.valueOf.call(r)})):s(r)!=h)?c(new g(y(e)),r,x):y(e)},I=a?f(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;I.length>_;_++)i(g,w=I[_])&&!i(x,w)&&b(x,w,m(g,w));x.prototype=k,k.constructor=x,l(n,h,x)}},ac1f:function(t,e,r){"use strict";var a=r("23e7"),n=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,r){"use strict";var a=r("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},d28b:function(t,e,r){var a=r("746f");a("iterator")},d784:function(t,e,r){"use strict";r("ac1f");var a=r("6eeb"),n=r("d039"),o=r("b622"),l=r("9263"),i=r("9112"),s=o("species"),c=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=o("replace"),p=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,d){var m=o(t),b=!n((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),v=b&&!n((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[s]=function(){return r},r.flags="",r[m]=/./[m]),r.exec=function(){return e=!0,null},r[m](""),!e}));if(!b||!v||"replace"===t&&(!c||!u||p)||"split"===t&&!f){var h=/./[m],g=r(m,""[t],(function(t,e,r,a,n){return e.exec===l?b&&!n?{done:!0,value:h.call(e,r,a)}:{done:!0,value:t.call(r,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),k=g[0],S=g[1];a(String.prototype,t,k),a(RegExp.prototype,m,2==e?function(t,e){return S.call(t,this,e)}:function(t){return S.call(t,this)})}d&&i(RegExp.prototype[m],"sham",!0)}},e01a:function(t,e,r){"use strict";var a=r("23e7"),n=r("83ab"),o=r("da84"),l=r("5135"),i=r("861d"),s=r("9bf2").f,c=r("e893"),u=o.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(p,u);var f=p.prototype=u.prototype;f.constructor=p;var m=f.toString,b="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var t=i(this)?this.valueOf():this,e=m.call(t);if(l(d,t))return"";var r=b?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:p})}},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),o=r("e8b5"),l=r("23cb"),i=r("50c4"),s=r("fc6a"),c=r("8418"),u=r("b622"),d=r("1dde"),p=r("ae40"),f=d("slice"),m=p("slice",{ACCESSORS:!0,0:0,1:2}),b=u("species"),v=[].slice,h=Math.max;a({target:"Array",proto:!0,forced:!f||!m},{slice:function(t,e){var r,a,u,d=s(this),p=i(d.length),f=l(t,p),m=l(void 0===e?p:e,p);if(o(d)&&(r=d.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return v.call(d,f,m);for(a=new(void 0===r?Array:r)(h(m-f,0)),u=0;f<m;f++,u++)f in d&&c(a,u,d[f]);return a.length=u,a}})}}]);